{"name": "测试onu组播透传的情况", "status": "failed", "statusDetails": {"message": "AssertionError: assert 'FAIL' == 'PASS'\n  - FAIL\n  + PASS", "trace": "onu_igmp_suit = <telnetlib.Telnet object at 0x00000259F45FD7F0>\n\n    @allure.feature(\"onu 组播测试\")\n    @allure.story(\"onu 组播透传测试\")\n    @allure.title(\"测试onu组播透传的情况\")\n    @pytest.mark.run(order=1624)\n    def test_ont_igmp_transparent(onu_igmp_suit):\n        cdata_info(\"=========onu为组播透传测试=========\")\n    \n        tn = onu_igmp_suit\n        with allure.step('步骤1:发现未注册的ONU。'):\n            assert autofind_onu(tn, Gpon_PonID, Gpon_OnuID, Gpon_SN)\n        with allure.step('步骤2:在OLT上通过Gpon_SN的方式将ONU注册上线。'):\n            assert auth_by_sn(tn, Gpon_PonID, Gpon_OnuID, Ont_Lineprofile_ID, Ont_Srvprofile_ID, Gpon_SN)\n        with allure.step('步骤3：配置onu端口为transparent'):\n            assert ont_port_transparent(tn, Gpon_PonID, Gpon_OnuID, Ont_Port_ID)\n        with allure.step('步骤4:ONU的以太网口1添加NATIVE-VLAN。'):\n            assert ont_native_vlan(tn, Gpon_PonID, Gpon_OnuID, Ont_Port_ID, User_vlan='3000')\n        with allure.step(\"步骤4:修改gemport配置为vlan\"):\n            assert gemport_vlan(tn, Ont_Lineprofile_ID, [3000], Gemport_ID)\n        with allure.step(\"步骤5:配置虚端口vlan3000透传\"):\n            assert add_service_port(tn, Gpon_PonID, Gpon_OnuID, Gemport_ID, Vlan_list=[3000])\n        with allure.step('步骤6:配置onu组播模式为transparent'):\n            assert onu_imgp_transparent(tn,Ont_Srvprofile_ID,Gpon_PonID, Gpon_OnuID, Gemport_ID,Mvlan='3000', User_Vlan='3000')\n        with allure.step(\"步骤6:打流测试\"):\n            time.sleep(3)\n            reset_rom_cmd = ResetROMCommand()\n            reset_rom_cmd.execute()\n            # 发流测试\n            result = multicast_test(port_location=port_location,\n                                    multicaststream_header=(\n                                        'ethernetII_1.destMacAdd=01:00:5e:01:01:01 vlan_1.id=3000 ipv4_1.destination=239.1.1.1'),\n                                    multicastgroupip='239.1.1.1',\n                                    duration=10)\n    \n            time.sleep(3)\n            reset_rom_cmd = ResetROMCommand()\n            reset_rom_cmd.execute()\n            if result == 'PASS':\n                cdata_info(\"测试onu组播正常通的情况:打流测试正常\")\n            else:\n                cdata_error(\"测试onu组播正常通的情况:打流测试失败\")\n    \n>           assert result == 'PASS'\nE           AssertionError: assert 'FAIL' == 'PASS'\nE             - FAIL\nE             + PASS\n\ntest_onu_multicast.py:62: AssertionError"}, "steps": [{"name": "步骤1:发现未注册的ONU。", "status": "passed", "start": 1597831020120, "stop": 1597831036695}, {"name": "步骤2:在OLT上通过Gpon_SN的方式将ONU注册上线。", "status": "passed", "start": 1597831036695, "stop": 1597831101913}, {"name": "步骤3：配置onu端口为transparent", "status": "passed", "start": 1597831101913, "stop": 1597831103338}, {"name": "步骤4:ONU的以太网口1添加NATIVE-VLAN。", "status": "passed", "start": 1597831103339, "stop": 1597831117934}, {"name": "步骤4:修改gemport配置为vlan", "status": "passed", "start": 1597831117934, "stop": 1597831127161}, {"name": "步骤5:配置虚端口vlan3000透传", "status": "passed", "start": 1597831127161, "stop": 1597831129488}, {"name": "步骤6:配置onu组播模式为transparent", "status": "passed", "start": 1597831129488, "stop": 1597831133259}, {"name": "步骤6:打流测试", "status": "failed", "statusDetails": {"message": "AssertionError: assert 'FAIL' == 'PASS'\n  - FAIL\n  + PASS\n", "trace": "  File \"E:\\CDATA\\自动化测试\\Cdata_part11\\tests\\MA5800_G\\test_onu_multicast.py\", line 62, in test_ont_igmp_transparent\n    assert result == 'PASS'\n"}, "start": 1597831133259, "stop": 1597831192599}], "attachments": [{"name": "log", "source": "4594381c-06f1-4975-85a2-e6fe98dac12d-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "__pytest_repeat_step_number", "value": "0"}], "start": 1597831020119, "stop": 1597831192600, "uuid": "1d27010d-f296-49e1-9aaa-332a53fda783", "historyId": "fced30e4ac193c18da4db79c717ecadc", "testCaseId": "7b5ce0bb7740999a32a3c517dbc6a730", "fullName": "MA5800_G.test_onu_multicast#test_ont_igmp_transparent", "labels": [{"name": "story", "value": "onu 组播透传测试"}, {"name": "feature", "value": "onu 组播测试"}, {"name": "parentSuite", "value": "MA5800_G"}, {"name": "suite", "value": "test_onu_multicast"}, {"name": "host", "value": "DESKTOP-2JV12RE"}, {"name": "thread", "value": "14756-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "MA5800_G.test_onu_multicast"}]}
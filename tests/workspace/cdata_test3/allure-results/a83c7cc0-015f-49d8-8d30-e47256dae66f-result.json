{"name": "测试onu端口vlan为transparent", "status": "failed", "statusDetails": {"message": "AssertionError: assert False\n +  where False = ont_port_transparent(<telnetlib.Telnet object at 0x00000270246BAE48>, '200')", "trace": "login = <telnetlib.Telnet object at 0x00000270246BAE48>\n\n    @allure.feature(\"onu端口vlan测试\")\n    @allure.story(\"onu端口vlan测试\")\n    @allure.title(\"测试onu端口vlan为transparent\")\n    @pytest.mark.run(order=1617)\n    def test_onu_transparent(login):\n        '''\n        用例描述\n        测试目的： 测试onu端口为transparent，测试上下行流vlan2000-2001是否正常\n        测试步骤：\n        步骤1: 发现未注册的ONU\n        步骤2: 在OLT上通过Gpon_SN的方式将ONU注册上线\n        步骤3: 配置onu端口vlan为transparent\n        步骤4: 添加虚端口vlan透传2000,2001\n        步骤5：打流测试\n        1）上下行发vlan2000和2001的流两条\n        down_stream_header = (\n            'ethernetII_1.sourceMacAdd=00:00:00:11:11:11 vlan_1.id=2000  ethernetII_1.destMacAdd=00:00:00:22:22:21',\n            'ethernetII_1.sourceMacAdd=00:00:00:11:11:12 vlan_1.id=2001  ethernetII_1.destMacAdd=00:00:00:22:22:22',)\n        up_stream_header = (\n            'ethernetII_1.sourceMacAdd=00:00:00:22:22:21 vlan_1.id=2000  ethernetII_1.destMacAdd=00:00:00:11:11:11',\n            'ethernetII_1.sourceMacAdd=00:00:00:22:22:22 vlan_1.id=2001  ethernetII_1.destMacAdd=00:00:00:11:11:12',)\n        预期结果: 上下行vlan2000-2001的流量正常通\n        '''\n    \n        cdata_info(\"=========测试ONU端口vlan为transaprent=========\")\n        Vlan_list = [2000, 2001]\n        tn = login\n        with allure.step('步骤1:发现未注册的ONU。'):\n            assert autofind_onu(tn, Gpon_PonID, Gpon_OnuID, Gpon_SN)\n        with allure.step('步骤2:在OLT上通过Gpon_SN的方式将ONU注册上线。'):\n            assert auth_by_sn(tn, Gpon_PonID, Gpon_OnuID, Ont_Lineprofile_ID, Ont_Srvprofile_ID, Gpon_SN)\n        with allure.step(\"步骤3:配置onu端口vlan为transparent\"):\n>           assert ont_port_transparent(tn, Ont_Srvprofile_ID)\nE           AssertionError: assert False\nE            +  where False = ont_port_transparent(<telnetlib.Telnet object at 0x00000270246BAE48>, '200')\n\nFD1616GS\\test_onu_vlan.py:109: AssertionError"}, "description": "\n    用例描述\n    测试目的： 测试onu端口为transparent，测试上下行流vlan2000-2001是否正常\n    测试步骤：\n    步骤1: 发现未注册的ONU\n    步骤2: 在OLT上通过Gpon_SN的方式将ONU注册上线\n    步骤3: 配置onu端口vlan为transparent\n    步骤4: 添加虚端口vlan透传2000,2001\n    步骤5：打流测试\n    1）上下行发vlan2000和2001的流两条\n    down_stream_header = (\n        'ethernetII_1.sourceMacAdd=00:00:00:11:11:11 vlan_1.id=2000  ethernetII_1.destMacAdd=00:00:00:22:22:21',\n        'ethernetII_1.sourceMacAdd=00:00:00:11:11:12 vlan_1.id=2001  ethernetII_1.destMacAdd=00:00:00:22:22:22',)\n    up_stream_header = (\n        'ethernetII_1.sourceMacAdd=00:00:00:22:22:21 vlan_1.id=2000  ethernetII_1.destMacAdd=00:00:00:11:11:11',\n        'ethernetII_1.sourceMacAdd=00:00:00:22:22:22 vlan_1.id=2001  ethernetII_1.destMacAdd=00:00:00:11:11:12',)\n    预期结果: 上下行vlan2000-2001的流量正常通\n    ", "steps": [{"name": "步骤1:发现未注册的ONU。", "status": "passed", "start": 1598273708541, "stop": 1598273709684}, {"name": "步骤2:在OLT上通过Gpon_SN的方式将ONU注册上线。", "status": "passed", "start": 1598273709684, "stop": 1598273728877}, {"name": "步骤3:配置onu端口vlan为transparent", "status": "failed", "statusDetails": {"message": "AssertionError: assert False\n +  where False = ont_port_transparent(<telnetlib.Telnet object at 0x00000270246BAE48>, '200')\n", "trace": "  File \"E:\\CDATA\\自动化测试\\Cdata_part11\\tests\\FD1616GS\\test_onu_vlan.py\", line 109, in test_onu_transparent\n    assert ont_port_transparent(tn, Ont_Srvprofile_ID)\n"}, "start": 1598273728877, "stop": 1598273736936}], "attachments": [{"name": "log", "source": "014bc06b-ffbe-449c-b9c4-e1d9da56e4ef-attachment.txt", "type": "text/plain"}], "start": 1598273708537, "stop": 1598273736939, "uuid": "784689da-1fd9-4965-b10f-bc0c053da7c6", "historyId": "636b26624db9af152cf9fc0959f367fd", "testCaseId": "44a1ac11c6b5d8fc4f7e915378523e4e", "fullName": "test_onu_vlan#test_onu_transparent", "labels": [{"name": "feature", "value": "onu端口vlan测试"}, {"name": "story", "value": "onu端口vlan测试"}, {"name": "suite", "value": "test_onu_vlan"}, {"name": "host", "value": "DESKTOP-2JV12RE"}, {"name": "thread", "value": "14976-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_onu_vlan"}]}